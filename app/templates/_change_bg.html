    <script type="text/javascript">
        // 个人背景图更换入口
        function bgChange(url) {
            showMsg(
                '<button id="bg-change-btn" class="btn btn-info">更换背景图</button>' +
                '<div id="dropzone">\n' +
                '        <div id="previewTemplate" style="display: none;">\n' +
                '          <div class="dz-preview">\n' +
                '            <small class="mr-4" data-dz-name></small><small data-dz-size></small>\n' +
                '            <div class="progress mb-3">\n' +
                '              <div class="progress-bar progress-bar-striped bg-warning progress-bar-animated" role="progressbar" style="width: 0;" aria-valuemin="0" aria-valuemax="100" data-dz-uploadprogress></div>\n' +
                '            </div>\n' +
                '          </div>\n' +
                '        </div>\n' +
                '    </div>'
            );

            // 更换背景图的图片上传接口
            $('#dropzone').dropzone({
                url: url,
                previewTemplate: $('#previewTemplate').html(),
                clickable: '#bg-change-btn',
                acceptedFiles: 'image/*',
                maxFiles: 1,
                parallelUploads: 1,
                init: function () {
                    this.on('success', function (file) {
                        // this.removeFile(file);
                        location.reload();
                    });
                    this.on('error', function (file) {
                        this.removeFile(file);
                        $("#bg-change-btn").text('上传失败，点击重试')
                    })
                }
            });
        }
    </script>
